<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timestamp Display</title>
    <style>
        body {
            background-color: #888888;
            color: #ffffff;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            background-color: rgba(0, 0, 0, 0.8);
            animation: fade-in 1s ease-in-out;
            position: relative;
        }

        .timestamp-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
        }

        .small-box {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            color: #ffffff;
            border-radius: 8px;
            margin: 10px;
            text-decoration: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .small-box:hover {
            background-color: None;
        }

        .expanded-box {
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
            text-align: center;
            margin-bottom: 10px;
        }

        .calendar-trigger {
            position: absolute;
            top: 5px;
            right: 5px;
            cursor: pointer;
            z-index: 1;
        }

        @keyframes fade-in {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>

<body>
    <div class="container">
        <div class="timestamp-container" id="timestampContainer">
        </div>
        <div class="calendar-trigger" id="match-calendar-dp-trigger">
            <img alt="calendar" loading="lazy" width="18" height="18" decoding="async" data-nimg="1"
                src="https://www.livescore.com/ls-web-assets/svgs/common/calendar-62a86ad26c51fe49ea1c6abb202a15b4.svg"
                style="color: transparent;">
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            flatpickr("#match-calendar-dp-trigger", {
                enableTime: false,
                dateFormat: "Y-m-d",
                onClose: function (selectedDates, dateStr, instance) {
                    generateDates(dateStr);
                }
            });

            generateDates(new Date());
        });

        function generateDates(selectedDate) {
            var currentDate = new Date(selectedDate);
            var daysContainer = document.getElementById("timestampContainer");

            daysContainer.innerHTML = "";

            for (var i = -2; i <= 2; i++) {
                var day = new Date(currentDate);
                day.setDate(currentDate.getDate() + i);

                var formattedDate = formatDate(day);
                var dayName = formattedDate === formatDate(new Date(selectedDate)) ? "Selected" : getDayName(day);

                var smallBox = document.createElement("a");
                smallBox.classList.add("small-box");
                smallBox.href = "/tournaments/" + formattedDate;
                smallBox.textContent = dayName + " " + day.getDate() + " " + getMonthName(day);

                daysContainer.appendChild(smallBox);
            }
        }

        function formatDate(date) {
            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();

            return year + "-" + (month < 10 ? "0" : "") + month + "-" + (day < 10 ? "0" : "") + day;
        }

        function getDayName(date) {
            var dayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
            return dayNames[date.getDay()];
        }

        function getMonthName(date) {
            var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
            return monthNames[date.getMonth()];
        }
    </script>
</body>

</html>